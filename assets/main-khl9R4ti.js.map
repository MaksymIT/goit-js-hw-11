{"version":3,"file":"main-khl9R4ti.js","sources":["../../src/js/render-functios.js","../../src/js/pixabay.js","../../src/main.js"],"sourcesContent":["export const createGalerryCard = image => {\n    return `  <a href=\"${image.largeImageURL}\">\n            <div class=\"gallery-item\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n                <div class=\"info\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n            </div>\n        </a>`\n}","const BASE_URL = 'https://pixabay.com';\n\nexport const fetchPhotos = query => {\n\n    const urlParams = new URLSearchParams({\n        key: '46898279-65d5dcdd2fa29fc168f36b5dd',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    }) \n\n    console.log(urlParams.toString());\n\n   return fetch(`${BASE_URL}/api/?${urlParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n        \n            return response.json();\n        })\n};\n\n","// import functions\nimport { createGalerryCard } from \"./js/render-functios\";\nimport { fetchPhotos } from \"./js/pixabay\";\n\n// find HTML elements\nconst searchForm = document.querySelector('.search-container');\nconst galerryEl = document.querySelector(\".galerry-js\");\nconst loader = document.querySelector(\".loader\");\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox(\".galerry-js a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\n// Функція для приховування індикатора завантаження\nfunction hideLoader() {\n    loader.classList.add(\"hidden\");\n}\n\n// Функція для показу індикатора завантаження\nfunction showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\n// Основна функція обробки форми\nconst clickForm = async (event) => {\n  event.preventDefault();\n\n  const userInput = searchForm.elements.user_query.value.trim();\n\n  // Перевірка введення\n  if (!userInput) {\n    iziToast.warning({\n      title: \"Warning\",\n      message: \"Please enter a search query.\",\n    });\n    return;\n  }\n\n  // Очищення галереї та показ індикатора завантаження\n  galerryEl.innerHTML = \"\";\n  showLoader();\n\n  try {\n    // Запит на бекенд\n    const data = await fetchPhotos(userInput);\n\n    // Перевірка результатів пошуку\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n      });\n      searchForm.reset();\n      hideLoader();\n      return;\n    }\n\n    // Створення розмітки галереї\n    const galerryCardTemplate = data.hits.map(img => createGalerryCard(img)).join('');\n    galerryEl.innerHTML = galerryCardTemplate;\n\n    // Оновлення SimpleLightbox\n    lightbox.refresh();\n\n    // Очищення форми після успішного запиту\n    searchForm.reset();\n  } catch (error) {\n    // Обробка помилки\n    iziToast.error({\n      title: \"Error\",\n      message: \"An error occurred while fetching images. Please try again later.\",\n    });\n    console.error(error);\n  } finally {\n    // Приховуємо індикатор завантаження\n    hideLoader();\n  }\n};\n\n// Додаємо обробник події на форму\nsearchForm.addEventListener('submit', clickForm);\n"],"names":["createGalerryCard","image","BASE_URL","fetchPhotos","query","urlParams","response","searchForm","galerryEl","loader","lightbox","SimpleLightbox","hideLoader","showLoader","clickForm","event","userInput","iziToast","data","galerryCardTemplate","img","error"],"mappings":"svBAAO,MAAMA,EAAoBC,GACtB,cAAcA,EAAM,aAAa;AAAA;AAAA,4BAEhBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,gCAElCA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,cCR7CC,EAAW,sBAEJC,EAAcC,GAAS,CAEhC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,eAAQ,IAAIC,EAAU,SAAU,CAAA,EAE1B,MAAM,GAAGH,CAAQ,SAASG,CAAS,EAAE,EACtC,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECjBMC,EAAa,SAAS,cAAc,mBAAmB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAYzCC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASC,GAAa,CAClBH,EAAO,UAAU,IAAI,QAAQ,CACjC,CAGA,SAASI,GAAa,CAClBJ,EAAO,UAAU,OAAO,QAAQ,CACpC,CAGA,MAAMK,EAAY,MAAOC,GAAU,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAYT,EAAW,SAAS,WAAW,MAAM,OAGvD,GAAI,CAACS,EAAW,CACdC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAGDT,EAAU,UAAY,GACtBK,IAEA,GAAI,CAEF,MAAMK,EAAO,MAAMf,EAAYa,CAAS,EAGxC,GAAIE,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACjB,CAAO,EACDV,EAAW,MAAK,EAChBK,IACA,MACD,CAGD,MAAMO,EAAsBD,EAAK,KAAK,IAAIE,GAAOpB,EAAkBoB,CAAG,CAAC,EAAE,KAAK,EAAE,EAChFZ,EAAU,UAAYW,EAGtBT,EAAS,QAAO,EAGhBH,EAAW,MAAK,CACjB,OAAQc,EAAO,CAEdJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kEACf,CAAK,EACD,QAAQ,MAAMI,CAAK,CACvB,QAAY,CAERT,GACD,CACH,EAGAL,EAAW,iBAAiB,SAAUO,CAAS"}